(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"+vE3":function(e,t,n){},"86up":function(e,t,n){},CNYA:function(e,t,n){"use strict";var o=n("+vE3");n.n(o).a},K81L:function(e,t,n){"use strict";var o=n("86up");n.n(o).a},UZwO:function(e,t,n){"use strict";var o=n("tlMo");n.n(o).a},aayG:function(e,t,n){},iyQ6:function(e,t,n){"use strict";n.r(t);n("TeQF"),n("fbCW"),n("QWBl"),n("yq1k"),n("2B1R"),n("E9XD"),n("pDQq"),n("sMBO"),n("qePV"),n("rB9j"),n("JTJg"),n("Rm1S"),n("mRH6"),n("FZtP"),n("R5XZ"),n("ls82");var o,a=n("HaE+"),s=n("vDqi"),i=n.n(s),r=(n("ma9I"),n("07d7"),n("UxlC"),n("lViN")),l=function(e){return new Promise((function(t){setTimeout((function(){t()}),e)}))},c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n?"https://img2.storyblok.com/".concat(t,"x0/filters:format(webp)").concat(e.replace("https://a.storyblok.com","")):"https://img2.storyblok.com/".concat(t,"x0").concat(e.replace("https://a.storyblok.com",""))},u=function(e){var t=Object(r.a)(/(?:^https:\/\/a\.storyblok\.com\/f\/[0-9]+\/)([0-9]+)x([0-9]+)/g,{width:1,height:2}).exec(e);if(t){var n=t.groups,o=n.width,a=n.height;return"".concat(a/o*100,"%")}return 0},d=["300","500","600","700","1000","1200","1500","1700","2000"],m=n("LP84"),f=n("rgrl"),p=n("vHEj"),b=n("rdqn"),h=n("P+Ks"),g={name:"Globe",props:{solutions:{type:Array,required:!0},world:{type:Object,required:!0}},data:function(){return{path:"",graticulePath:"",rotation:[0,-25,0],projection:null,resize:!1,center:null,animationId:null,showTooltip:!1,tooltipPosition:null,tooltipText:null}},created:function(){o=h.a(this.world,this.world.objects.countries),this.projection=Object(m.a)()},mounted:function(){var e=this;window.addEventListener("resize",this.handleResize,!0),this.$nextTick((function(){e.center=[e.$refs.svg.clientWidth/2,e.$refs.svg.clientHeight/2],e.projection=Object(m.a)().fitSize([e.$refs.svg.clientWidth,e.$refs.svg.clientHeight],o),e.animationId=window.requestAnimationFrame(e.rotate)}))},methods:{coordinateToProjection:function(e,t){return this.projection([Number(e.content.long),Number(e.content.lat)])[t]},calculateFill:function(e){if(null===this.projection||null===this.center)return"text-transparent";var t=[Number(e.content.long),Number(e.content.lat)];return Object(f.a)(t,this.projection.invert(this.center))>Math.PI/2?"fill-current text-transparent":""},rotate:function(){this.resize&&(this.center=[this.$refs.svg.clientWidth/2,this.$refs.svg.clientHeight/2],this.projection=Object(m.a)().fitSize([this.$refs.svg.clientWidth,this.$refs.svg.clientHeight],o),this.resize=!1),this.rotation[0]=this.rotation[0]+.2,this.projection.rotate(this.rotation);var e=Object(p.a)().projection(this.projection);this.path=e(o);var t=Object(b.a)().step([10,10]);this.graticulePath=e(t()),this.animationId=window.requestAnimationFrame(this.rotate)},cancelRotation:function(e,t){var n=this;return Object(a.a)(regeneratorRuntime.mark((function o(){var a,s;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return window.cancelAnimationFrame(n.animationId),a=n.$refs.container.getBoundingClientRect(),s=e.target.getBoundingClientRect(),n.tooltipPosition={left:"".concat(s.left-a.left+(s.right-s.left)/2,"px"),top:"".concat(s.top-a.top,"px")},n.tooltipText=t.content.title,o.next=7,n.$nextTick();case 7:n.showTooltip=!0;case 8:case"end":return o.stop()}}),o)})))()},continueRotation:function(){this.showTooltip=!1,this.animationId=window.requestAnimationFrame(this.rotate)},showSolution:function(e){this.$emit("solution",e)},handleResize:function(){this.resize=!0}}},v=(n("K81L"),n("KHd+")),_=Object(v.a)(g,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"container",staticClass:"relative w-full h-full"},[n("svg",{ref:"svg",staticClass:"w-full h-full overflow-visible text-blue-500"},[n("defs",[n("radialGradient",{attrs:{id:"g1",cx:"50%",cy:"50%",r:"50%"}},[n("stop",{attrs:{"stop-color":"#82fff7",offset:"0%"}}),n("stop",{attrs:{"stop-color":"#00ff22",offset:"100%"}})],1)],1),n("path",{staticClass:"fill-current stroke-blue-500",attrs:{d:e.path}}),n("path",{staticClass:"fill-current text-transparent stroke-gray-500",attrs:{d:e.graticulePath}}),e._l(e.solutions,(function(t){return n("circle",{key:t.uuid,staticClass:"cursor-pointer",class:e.calculateFill(t),attrs:{cx:e.coordinateToProjection(t,0),cy:e.coordinateToProjection(t,1),r:"16",fill:"url('#g1')"},on:{mouseenter:function(n){return e.cancelRotation(n,t)},mouseleave:e.continueRotation,click:function(n){return e.showSolution(t)}}})}))],2),n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.showTooltip,expression:"showTooltip"}],staticClass:"tooltip absolute p-2 bg-white shadow rounded",style:e.tooltipPosition},[e._v("\n      "+e._s(e.tooltipText)+"\n    ")])])],1)}),[],!1,null,"ff15f11a",null).exports,x=(n("brp2"),n("DQNa"),{name:"ResizedImage",props:{url:{type:String,required:!0}},data:function(){return{src:null,srcset:null,srcsetWebp:null,padding:null}},created:function(){var e=this;this.src=this.url.replace("https://a.storyblok.com","https://img2.storyblok.com/250x0"),this.srcset=d.map((function(t){return"".concat(c(e.url,t)," ").concat(t,"w")})),this.srcstWebp=d.map((function(t){return"".concat(c(e.url,t,!0)," ").concat(t,"w")}));var t=u(this.url);this.padding={paddingBottom:t}}}),y=Object(v.a)(x,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"relative rounded-lg overflow-hidden observe",style:this.padding},[t("picture",[t("source",{attrs:{"data-srcset":this.srcsetWebp,type:"image/webp"}}),t("source",{attrs:{"data-srcset":this.srcset}}),t("img",{staticClass:"absolute lazyload",attrs:{"data-src":this.src,"data-sizes":"auto"}})])])}),[],!1,null,null,null).exports,w={name:"Avatar",components:{CImage:y},props:{url:{type:String,required:!0}},computed:{imageSrc:function(){return"".concat(this.url.replace("https://a.storyblok.com","https://img2.storyblok.com/200x200/smart"),"?time=").concat(Date.now())}}},k=(n("UZwO"),Object(v.a)(w,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"avatar absolute top-0 left-0 box-border overflow-hidden bg-red-700 rounded-full"},[t("img",{staticClass:"avatar__image",attrs:{src:this.imageSrc}})])}),[],!1,null,"3c824b00",null).exports),$={name:"Button",props:{option:{type:String,required:!0}}},C=Object(v.a)($,(function(){var e=this.$createElement;return(this._self._c||e)("button",{staticClass:"px-5 py-3 ml-2 first:ml-0 mt-4 mb-4 transition duration-150 rounded-md bg-blue-500 hover:bg-blue-600 text-white outline-none focus:outline-none"},[this._v("\n  "+this._s(this.option)+"\n")])}),[],!1,null,null,null).exports,S={name:"Message",props:{message:{type:String},isAnswer:{type:Boolean},isSolution:{type:Boolean,default:!1}}},j=Object(v.a)(S,(function(){var e=this.$createElement,t=this._self._c||e;return t("transition",{attrs:{name:"fade",appear:""}},[t("div",{staticClass:"p-4 mb-2 rounded-lg shadow",class:[this.isAnswer?"self-end mt-4 mb-4 rounded-tr-sm bg-blue-700 text-blue-100":"self-start rounded-tl-sm bg-white text-gray-800",this.isSolution?"max-w-full":"max-w-sm"]},[this._t("default",[t("div",{directives:[{name:"g-image",rawName:"v-g-image"}],domProps:{innerHTML:this._s(this.message)}})])],2)])}),[],!1,null,null,null).exports,O=(n("pjDv"),n("PKPk"),n("4MG8")),D=n.n(O),R={name:"Deployment",components:{Avatar:k,CButton:C,CImage:y,Message:j},props:{message:{type:Object,required:!0}},data:function(){return{status:null,messageCount:0,messages:[],interval:null}},created:function(){var e=this;this.status=this.$static.statuses.edges.map((function(e){return e.node})).find((function(t){return t.uuid===e.message.content.status}))},mounted:function(){var e=this;this.messages=Array.from(this.$refs.deployment.querySelectorAll(".message")),this.$refs.deployment.querySelectorAll(".observe").forEach((function(t){e.$emit("observe",t)})),this.interval=setInterval((function(){e.messageCount++,e.$nextTick((function(){return e.$refs.scroll.$el.scrollTop=e.$refs.scroll.$el.scrollHeight})),e.messageCount>e.message.content.message_bubbles.length+2&&clearInterval(e.interval)}),1e3)},methods:{reset:function(){this.$emit("resetDeployment"),clearInterval(this.interval)},createMarkdown:function(e){return D()(e)}}},T=(n("CNYA"),n("Kw5r")),q=T.a.config.optionMergeStrategies.computed,A={statuses:{edges:[{node:{uuid:"3e1b8d39-ec4d-4bb7-9255-7ac120d744ad",name:"Under review",content:{_uid:"a698b2e4-e3ef-4a5a-b30b-484839c961ad",text:"Under review",colour:"#808080",component:"status",text_colour:"text-white",_editable:'\x3c!--#storyblok#{"name": "status", "space": "90687", "uid": "a698b2e4-e3ef-4a5a-b30b-484839c961ad", "id": "19033245"}--\x3e'}}},{node:{uuid:"8f5579c3-3207-4266-a7e5-e219d3a51948",name:"Discontinued",content:{_uid:"c76bb8ff-2449-44c3-a4d9-4f3f6b4826e1",text:"Discontinued",colour:"#FF0000",component:"status",text_colour:"text-white",_editable:'\x3c!--#storyblok#{"name": "status", "space": "90687", "uid": "c76bb8ff-2449-44c3-a4d9-4f3f6b4826e1", "id": "18492115"}--\x3e'}}},{node:{uuid:"afa945b8-72d2-4ccc-bd77-231bb0b3a5eb",name:"Revised",content:{_uid:"66d95b99-d2df-4d3c-95cb-7acf2b29c48e",text:"Revised",colour:"#68d391",component:"status",text_colour:"text-white",_editable:'\x3c!--#storyblok#{"name": "status", "space": "90687", "uid": "66d95b99-d2df-4d3c-95cb-7acf2b29c48e", "id": "19027684"}--\x3e'}}},{node:{uuid:"7f1b0839-bd51-4e9d-b4aa-c7c191294088",name:"In development",content:{_uid:"66d95b99-d2df-4d3c-95cb-7acf2b29c48e",text:"In development",colour:"#33A2FF",component:"status",text_colour:"text-white",_editable:'\x3c!--#storyblok#{"name": "status", "space": "90687", "uid": "66d95b99-d2df-4d3c-95cb-7acf2b29c48e", "id": "19027677"}--\x3e'}}},{node:{uuid:"4ff5a629-5d64-4586-b842-797c0643be97",name:"Active",content:{_uid:"66d95b99-d2df-4d3c-95cb-7acf2b29c48e",text:"Active",colour:"#68d391",component:"status",text_colour:"text-white",_editable:'\x3c!--#storyblok#{"name": "status", "space": "90687", "uid": "66d95b99-d2df-4d3c-95cb-7acf2b29c48e", "id": "18481269"}--\x3e'}}}]}},B=function(e){var t=e.options;t.__staticData?t.__staticData.data=A:(t.__staticData=T.a.observable({data:A}),t.computed=q({$static:function(){return t.__staticData.data}},t.computed))},I=Object(v.a)(R,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"deployment",staticClass:"deployment absolute bottom-0 left-0 ml-10 py-4 max-w-md w-full h-full z-10 overflow-hidden"},[n("transition-group",{ref:"scroll",staticClass:"scroll h-full overflow-y-scroll",attrs:{tag:"div",name:"fade",mode:"out-in"}},[n("message",{key:e.message.uuid+"-first",staticClass:"message message--first bg-blue-500 mt-4 rounded-tl-lg",attrs:{"is-solution":!0}},[n("div",{staticClass:"flex justify-between text-blue-500"},[n("h1",{class:{"mb-2":e.message.content.image.filename}},[e._v("\n          Deployment:\n          "),n("span",{staticClass:"font-medium"},[e._v(e._s(e.message.content.title))])]),n("span",{staticClass:"underline cursor-pointer",on:{click:e.reset}},[e._v("close")])]),e.message.content.image.filename?n("c-image",{attrs:{url:e.message.content.image.filename}}):e._e()],1),e._l(e.message.content.message_bubbles,(function(t,o){return n("message",{directives:[{name:"show",rawName:"v-show",value:o+1<e.messageCount,expression:"index + 1 < messageCount"}],key:t._uid,staticClass:"flex justify-between items-center rounded-tl-lg message",attrs:{"is-solution":!0}},[n("div",{directives:[{name:"g-image",rawName:"v-g-image"}],domProps:{innerHTML:e._s(e.createMarkdown(t.text))}}),n("div",{staticClass:"w-32"},[t.image.filename?n("c-image",{attrs:{url:t.image.filename}}):e._e()],1)])})),n("message",{directives:[{name:"show",rawName:"v-show",value:e.message.content.message_bubbles.length+1<e.messageCount,expression:"message.content.message_bubbles.length + 1 < messageCount"}],key:e.message.uuid+"-last",staticClass:"message rounded-tl-lg",attrs:{"is-solution":!0}},[n("p",[e._v("\n        Status:\n        "),n("span",{staticClass:"inline-block px-2 leading-relaxed text-xs rounded-full uppercase te font-semibold",class:e.status.content.text_colour,style:{background:e.status.content.colour}},[e._v(e._s(e.status.content.text))]),n("br"),e._v("\n        "+e._s(e.message.content.status_comment)+"\n      ")])])],2)],1)}),[],!1,null,"a0e8aa9a",null);"function"==typeof B&&B(I);var M=I.exports,E=n("Zova"),N={name:"Question",components:{Avatar:k,CButton:C,Message:j},props:{message:{type:Object,required:!0},avatar:{type:Object,required:!0}},data:function(){return{bubbles:[],showOptions:!1,chosen:null}},created:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){var n,o,a,s,i,r,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=!0,o=!1,t.prev=2,s=Object(E.a)(e.message.content.question);case 4:return t.next=6,s.next();case 6:return i=t.sent,n=i.done,t.next=10,i.value;case 10:if(r=t.sent,n){t.next=20;break}return c=r,e.bubbles.push(c),e.$emit("updateScroll"),t.next=17,l(Number(c.delay));case 17:n=!0,t.next=4;break;case 20:t.next=26;break;case 22:t.prev=22,t.t0=t.catch(2),o=!0,a=t.t0;case 26:if(t.prev=26,t.prev=27,n||null==s.return){t.next=31;break}return t.next=31,s.return();case 31:if(t.prev=31,!o){t.next=34;break}throw a;case 34:return t.finish(31);case 35:return t.finish(26);case 36:e.showOptions=!0,e.$emit("updateScroll");case 38:case"end":return t.stop()}}),t,null,[[2,22,26,36],[27,,31,35]])})))()},methods:{handleChoice:function(e){null===this.chosen&&(this.chosen=e,this.$emit("choice",{link:e.link.id}),this.$refs.sound.play())}}},P=T.a.config.optionMergeStrategies.computed,W={global:{content:{_uid:"4eda69e7-e354-4dc1-8370-4dbf7bf504f9",videos:[{_uid:"c4c7e70a-6169-4f21-a77c-ace451f8ec13",video:{id:1335416,alt:null,name:"",focus:null,title:null,filename:"https://a.storyblok.com/f/90687/x/1137694d01/intro_1.mp4",copyright:null,fieldtype:"asset"},component:"background_video",_editable:'\x3c!--#storyblok#{"name": "background_video", "space": "90687", "uid": "c4c7e70a-6169-4f21-a77c-ace451f8ec13", "id": "17760467"}--\x3e'},{_uid:"49307d7e-85ea-41a9-8174-057d623e6fc8",video:{id:1335418,alt:null,name:"",focus:null,title:null,filename:"https://a.storyblok.com/f/90687/x/60cf08ee13/1_1_gov_bigtech.mp4",copyright:null,fieldtype:"asset"},component:"background_video",_editable:'\x3c!--#storyblok#{"name": "background_video", "space": "90687", "uid": "49307d7e-85ea-41a9-8174-057d623e6fc8", "id": "17760467"}--\x3e'},{_uid:"b04ffcd9-893e-446a-adb2-d55dc0abf4ed",video:{id:1335424,alt:null,name:"",focus:null,title:null,filename:"https://a.storyblok.com/f/90687/x/0e32ae9995/2_2_id_ano.mp4",copyright:null,fieldtype:"asset"},component:"background_video",_editable:'\x3c!--#storyblok#{"name": "background_video", "space": "90687", "uid": "b04ffcd9-893e-446a-adb2-d55dc0abf4ed", "id": "17760467"}--\x3e'},{_uid:"016cdbb6-be74-42d9-b06e-1e9ee8d7b197",video:{id:1335425,alt:null,name:"",focus:null,title:null,filename:"https://a.storyblok.com/f/90687/x/34e5483ac6/3_3_act_loc.mp4",copyright:null,fieldtype:"asset"},component:"background_video",_editable:'\x3c!--#storyblok#{"name": "background_video", "space": "90687", "uid": "016cdbb6-be74-42d9-b06e-1e9ee8d7b197", "id": "17760467"}--\x3e'},{_uid:"4c49f874-1675-4e2b-89e7-feaeb0a5d49f",video:{id:1335426,alt:null,name:"",focus:null,title:null,filename:"https://a.storyblok.com/f/90687/x/c14e90cba3/4_4_hard_soft.mp4",copyright:null,fieldtype:"asset"},component:"background_video",_editable:'\x3c!--#storyblok#{"name": "background_video", "space": "90687", "uid": "4c49f874-1675-4e2b-89e7-feaeb0a5d49f", "id": "17760467"}--\x3e'},{_uid:"3d027ccb-4b48-466e-99cc-138aa96626de",video:{id:1335427,alt:null,name:"",focus:null,title:null,filename:"https://a.storyblok.com/f/90687/x/0abd5390c4/5_5_app_other.mp4",copyright:null,fieldtype:"asset"},component:"background_video",_editable:'\x3c!--#storyblok#{"name": "background_video", "space": "90687", "uid": "3d027ccb-4b48-466e-99cc-138aa96626de", "id": "17760467"}--\x3e'},{_uid:"70124882-da4a-4053-b96c-d6233321f4ce",video:{id:1363066,alt:null,name:"",focus:null,title:null,filename:"https://a.storyblok.com/f/90687/x/92302569c8/6_solution_new.mp4",copyright:null,fieldtype:"asset"},component:"background_video",_editable:'\x3c!--#storyblok#{"name": "background_video", "space": "90687", "uid": "70124882-da4a-4053-b96c-d6233321f4ce", "id": "17760467"}--\x3e'}],chat_bot:{id:1329279,alt:null,name:"",focus:null,title:null,filename:"https://a.storyblok.com/f/90687/580x580/80c18c6200/bot_slower4.gif",copyright:null,fieldtype:"asset"},component:"global",start_text:"Start chatting with Ava",chatbox_top:"Chatting with Anti-Virus Assistant (Ava)",answer_sound:{id:1414816,alt:null,name:"",focus:null,title:null,filename:"https://a.storyblok.com/f/90687/x/b5c2cebbc3/success1.mp3",copyright:null,fieldtype:"asset"},message_sound:{id:1356112,alt:null,name:"",focus:null,title:null,filename:"https://a.storyblok.com/f/90687/x/5c39ca26bf/bubble_geo_low.mp3",copyright:null,fieldtype:"asset"},view_deployment_button:"View solution in use around the world",_editable:'\x3c!--#storyblok#{"name": "global", "space": "90687", "uid": "4eda69e7-e354-4dc1-8370-4dbf7bf504f9", "id": "17760467"}--\x3e'},id:"story-17760467-default",uuid:"735c08e2-78da-4f21-ad48-1ff8569b6de0"}},z=function(e){var t=e.options;t.__staticData?t.__staticData.data=W:(t.__staticData=T.a.observable({data:W}),t.computed=P({$static:function(){return t.__staticData.data}},t.computed))},F=Object(v.a)(N,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("audio",{ref:"sound",attrs:{src:e.$static.global.content.answer_sound.filename}}),n("avatar",{attrs:{url:e.avatar.filename}}),e._l(e.bubbles,(function(e){return n("message",{key:e._uid,attrs:{message:e.message,"is-answer":!1}})})),n("transition",{attrs:{name:"fade",mode:"out-in"}},[e.chosen?n("message",{key:e.chosen._uid,attrs:{message:e.chosen.option,"is-answer":!0}}):n("div",{staticClass:"flex w-full justify-end"},e._l(e.message.content.options,(function(t){return n("c-button",{directives:[{name:"show",rawName:"v-show",value:e.showOptions,expression:"showOptions"}],key:t._uid,attrs:{option:t.option},nativeOn:{click:function(n){return e.handleChoice(t)}}})})),1)],1)],2)}),[],!1,null,null,null);"function"==typeof z&&z(F);var H=F.exports,G={name:"Solution",components:{Avatar:k,CButton:C,CImage:y,Message:j},props:{message:{type:Object,required:!0},avatar:{type:Object,required:!0},showButtons:{type:Boolean,required:!0}},data:function(){return{bubbles:[],answer:"View depoyment solution",globalSolutions:"View global solutions",startOver:"Start-over",content:null,showSolution:!1,showButton:!1,chosen:null}},created:function(){console.log(this.$static.global.content)},mounted:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){var n,o,a,s,i,r,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=!0,o=!1,t.prev=2,s=Object(E.a)(e.message.content.bubbles);case 4:return t.next=6,s.next();case 6:return i=t.sent,n=i.done,t.next=10,i.value;case 10:if(r=t.sent,n){t.next=20;break}return c=r,e.bubbles.push(c),e.$emit("updateScroll"),t.next=17,l(Number(c.delay));case 17:n=!0,t.next=4;break;case 20:t.next=26;break;case 22:t.prev=22,t.t0=t.catch(2),o=!0,a=t.t0;case 26:if(t.prev=26,t.prev=27,n||null==s.return){t.next=31;break}return t.next=31,s.return();case 31:if(t.prev=31,!o){t.next=34;break}throw a;case 34:return t.finish(31);case 35:return t.finish(26);case 36:return e.content=D()(e.message.content.content),t.next=39,e.$nextTick();case 39:e.showSolution=!0,e.$emit("observe",e.$refs.image.$el),e.showButton=!0,!1===e.showButtons&&(e.chosen=!0),e.$emit("updateScroll");case 44:case"end":return t.stop()}}),t,null,[[2,22,26,36],[27,,31,35]])})))()},methods:{handleChoice:function(e){null===this.chosen&&(this.chosen=e,this.$emit("deployment",e.id))},switchToGlobe:function(){this.$emit("globe",!0)},reset:function(){this.$emit("reset")}}},V=T.a.config.optionMergeStrategies.computed,L={global:{content:{_uid:"4eda69e7-e354-4dc1-8370-4dbf7bf504f9",videos:[{_uid:"c4c7e70a-6169-4f21-a77c-ace451f8ec13",video:{id:1335416,alt:null,name:"",focus:null,title:null,filename:"https://a.storyblok.com/f/90687/x/1137694d01/intro_1.mp4",copyright:null,fieldtype:"asset"},component:"background_video",_editable:'\x3c!--#storyblok#{"name": "background_video", "space": "90687", "uid": "c4c7e70a-6169-4f21-a77c-ace451f8ec13", "id": "17760467"}--\x3e'},{_uid:"49307d7e-85ea-41a9-8174-057d623e6fc8",video:{id:1335418,alt:null,name:"",focus:null,title:null,filename:"https://a.storyblok.com/f/90687/x/60cf08ee13/1_1_gov_bigtech.mp4",copyright:null,fieldtype:"asset"},component:"background_video",_editable:'\x3c!--#storyblok#{"name": "background_video", "space": "90687", "uid": "49307d7e-85ea-41a9-8174-057d623e6fc8", "id": "17760467"}--\x3e'},{_uid:"b04ffcd9-893e-446a-adb2-d55dc0abf4ed",video:{id:1335424,alt:null,name:"",focus:null,title:null,filename:"https://a.storyblok.com/f/90687/x/0e32ae9995/2_2_id_ano.mp4",copyright:null,fieldtype:"asset"},component:"background_video",_editable:'\x3c!--#storyblok#{"name": "background_video", "space": "90687", "uid": "b04ffcd9-893e-446a-adb2-d55dc0abf4ed", "id": "17760467"}--\x3e'},{_uid:"016cdbb6-be74-42d9-b06e-1e9ee8d7b197",video:{id:1335425,alt:null,name:"",focus:null,title:null,filename:"https://a.storyblok.com/f/90687/x/34e5483ac6/3_3_act_loc.mp4",copyright:null,fieldtype:"asset"},component:"background_video",_editable:'\x3c!--#storyblok#{"name": "background_video", "space": "90687", "uid": "016cdbb6-be74-42d9-b06e-1e9ee8d7b197", "id": "17760467"}--\x3e'},{_uid:"4c49f874-1675-4e2b-89e7-feaeb0a5d49f",video:{id:1335426,alt:null,name:"",focus:null,title:null,filename:"https://a.storyblok.com/f/90687/x/c14e90cba3/4_4_hard_soft.mp4",copyright:null,fieldtype:"asset"},component:"background_video",_editable:'\x3c!--#storyblok#{"name": "background_video", "space": "90687", "uid": "4c49f874-1675-4e2b-89e7-feaeb0a5d49f", "id": "17760467"}--\x3e'},{_uid:"3d027ccb-4b48-466e-99cc-138aa96626de",video:{id:1335427,alt:null,name:"",focus:null,title:null,filename:"https://a.storyblok.com/f/90687/x/0abd5390c4/5_5_app_other.mp4",copyright:null,fieldtype:"asset"},component:"background_video",_editable:'\x3c!--#storyblok#{"name": "background_video", "space": "90687", "uid": "3d027ccb-4b48-466e-99cc-138aa96626de", "id": "17760467"}--\x3e'},{_uid:"70124882-da4a-4053-b96c-d6233321f4ce",video:{id:1363066,alt:null,name:"",focus:null,title:null,filename:"https://a.storyblok.com/f/90687/x/92302569c8/6_solution_new.mp4",copyright:null,fieldtype:"asset"},component:"background_video",_editable:'\x3c!--#storyblok#{"name": "background_video", "space": "90687", "uid": "70124882-da4a-4053-b96c-d6233321f4ce", "id": "17760467"}--\x3e'}],chat_bot:{id:1329279,alt:null,name:"",focus:null,title:null,filename:"https://a.storyblok.com/f/90687/580x580/80c18c6200/bot_slower4.gif",copyright:null,fieldtype:"asset"},component:"global",start_text:"Start chatting with Ava",chatbox_top:"Chatting with Anti-Virus Assistant (Ava)",answer_sound:{id:1414816,alt:null,name:"",focus:null,title:null,filename:"https://a.storyblok.com/f/90687/x/b5c2cebbc3/success1.mp3",copyright:null,fieldtype:"asset"},message_sound:{id:1356112,alt:null,name:"",focus:null,title:null,filename:"https://a.storyblok.com/f/90687/x/5c39ca26bf/bubble_geo_low.mp3",copyright:null,fieldtype:"asset"},view_deployment_button:"View solution in use around the world",_editable:'\x3c!--#storyblok#{"name": "global", "space": "90687", "uid": "4eda69e7-e354-4dc1-8370-4dbf7bf504f9", "id": "17760467"}--\x3e'},id:"story-17760467-default",uuid:"735c08e2-78da-4f21-ad48-1ff8569b6de0"}},Q=function(e){var t=e.options;t.__staticData?t.__staticData.data=L:(t.__staticData=T.a.observable({data:L}),t.computed=V({$static:function(){return t.__staticData.data}},t.computed))},Z=Object(v.a)(G,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("avatar",{attrs:{url:e.avatar.filename}}),e._l(e.bubbles,(function(e){return n("message",{key:e._uid,attrs:{message:e.message,"is-answer":!1}})})),n("message",{directives:[{name:"show",rawName:"v-show",value:e.showSolution,expression:"showSolution"}],staticClass:"w-full",attrs:{"is-answer":!1,"is-solution":!0}},[n("c-image",{ref:"image",attrs:{url:e.message.content.image.filename}}),n("div",{directives:[{name:"g-image",rawName:"v-g-image"}],domProps:{innerHTML:e._s(e.content)}})],1),e.showButtons?[n("transition",{attrs:{name:"fade",mode:"out-in"}},[e.chosen?e.chosen?n("message",{key:e.chosen._uid,attrs:{message:e.$static.global.content.view_deployment_button,"is-answer":!0}}):e._e():n("div",{staticClass:"flex w-full justify-end"},[n("c-button",{directives:[{name:"show",rawName:"v-show",value:e.showButton,expression:"showButton"}],attrs:{option:e.$static.global.content.view_deployment_button},nativeOn:{click:function(t){return e.handleChoice(e.message.content.link)}}})],1)],1)]:e._e(),e.chosen?[n("transition",{attrs:{name:"fade"}},[n("div",{staticClass:"flex w-full justify-end"},[e.showButtons?n("c-button",{attrs:{option:e.globalSolutions},nativeOn:{click:function(t){return e.switchToGlobe(t)}}}):e._e(),n("c-button",{attrs:{option:e.startOver},nativeOn:{click:function(t){return e.reset(t)}}})],1)])]:e._e()],2)}),[],!1,null,null,null);"function"==typeof Q&&Q(Z);var K={name:"Home",metaInfo:{title:"Geodesign"},components:{Avatar:k,CButton:C,Deployment:M,Globe:_,Message:j,Question:H,Solution:Z.exports},data:function(){return{firstMessage:null,messages:[],avatar:null,questions:null,solutions:null,deployments:null,world:null,observer:null,showWorld:!1,video:null,videoIndex:0,videos:null,showVideo:!0,OS:null,isFirefox:!1,selectedDeployment:null,hasStartedSequence:!1}},created:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){var n,o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return navigator.userAgent.match(/Linux/i)?e.OS="Linux":navigator.userAgent.match(/Windows/i)?e.OS="Windows":navigator.userAgent.match(/X11/i)?e.OS="UNIX":navigator.userAgent.match(/Mac/i)&&(e.OS="Mac"),navigator.userAgent.match("Firefox")&&(e.isFirefox=!0),e.avatar=e.$page.global.content.chat_bot,e.videos=e.$page.global.content.videos,e.video=e.videos[0],e.questions=e.$page.allStoryblokEntry.edges.filter((function(e){return["question","solution","deployment"].includes(e.node.content.component)})).map((function(e){return e.node})),n=e.$page.allStoryblokEntry.edges.find((function(e){return!0===e.node.is_startpage&&"question"===e.node.content.component})),e.firstMessage=n.node,e.messages.push(n.node),e.solutions=e.$page.allStoryblokEntry.edges.filter((function(e){return"solution"===e.node.content.component})).map((function(e){return e.node})),e.deployments=e.$page.allStoryblokEntry.edges.filter((function(e){return"deployment"===e.node.content.component})).map((function(e){return e.node})),t.next=12,i.a.get("https://cdn.jsdelivr.net/npm/world-atlas@2/countries-110m.json");case 12:o=t.sent,a=o.data,e.world=a;case 15:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;this.observer=new IntersectionObserver((function(t){t.forEach((function(t){t.isIntersecting&&(window.lazySizes&&window.lazySizes.autoSizer.updateElem(t.target),e.observer.unobserve(t.target))}))}))},methods:{handleChoice:function(e){var t=this;return Object(a.a)(regeneratorRuntime.mark((function n(){var o,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=e.link,!t.showWorld||o!==t.firstMessage.uuid){n.next=5;break}return n.next=4,t.handleReset();case 4:return n.abrupt("return");case 5:if(a=t.questions.find((function(e){return e.uuid===o})),!(t.videoIndex<t.videos.length-1)||a.name.toLowerCase().includes("convincing")){n.next=16;break}return t.showVideo=!1,t.videoIndex++,n.next=11,l(500);case 11:return t.video=t.videos[t.videoIndex],t.$refs.video.load(),n.next=15,l(100);case 15:t.showVideo=!0;case 16:setTimeout((function(){t.messages.push(a),t.scrollToBottom()}),1e3);case 17:case"end":return n.stop()}}),n)})))()},handleReset:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.showWorld=!1,e.selectedDeployment=null,e.videoIndex=0,e.video=e.videos[e.videoIndex],t.next=6,e.$nextTick();case 6:return e.$refs.video.load(),e.messages.splice(0),t.next=10,e.$nextTick();case 10:e.messages.push(e.firstMessage);case 11:case"end":return t.stop()}}),t)})))()},handleGlobe:function(e){this.messages.splice(0),this.messages.push(this.$page.globeMessage),this.showWorld=e,e&&(this.selectedDeployment=null)},handleGlobeSolution:function(e){var t=this;return Object(a.a)(regeneratorRuntime.mark((function n(){var o,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.selectedDeployment=null,o=e.content.bubbles.reduce((function(e,t){return e+Number(t.delay)}),0),a=t.deployments.find((function(t){return t.uuid===e.content.link.id})),console.log(e.content.link.id),console.log(a.uuid,a.name),t.messages.push(e),t.scrollToBottom(),n.next=9,l(o);case 9:a&&(t.selectedDeployment=a);case 10:case"end":return n.stop()}}),n)})))()},handleDeployment:function(e){var t=this.deployments.find((function(t){return t.uuid===e}));this.selectedDeployment=t,this.scrollToBottom()},resetDeployment:function(){this.selectedDeployment=null},scrollToBottom:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.$refs.sound.play(),t.next=3,e.$nextTick();case 3:e.$refs.messageBox.scrollTop=e.$refs.messageBox.scrollHeight;case 4:case"end":return t.stop()}}),t)})))()},getComponent:function(e){return"string"==typeof e?"message":e.content.component},observeElement:function(e){this.observer.observe(e)},startSequence:function(){console.log("start"),this.hasStartedSequence=!0,this.$refs.video.play()}}},U=(n("yZ11"),null),J=Object(v.a)(K,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Layout",[n("div",{staticClass:"wrapper flex flex-col justify-center overflow-hidden"},[n("audio",{ref:"sound",attrs:{src:e.$page.global.content.message_sound.filename}}),n("transition-group",{staticClass:"absolute w-full h-full flex items-center justify-center",attrs:{name:"fade",mode:"out-in",tag:"div"}},[e.world&&e.showWorld?n("globe",{key:"globe",staticClass:"max-w-screen-md py-20",attrs:{world:e.world,solutions:e.solutions},on:{solution:e.handleGlobeSolution}}):e._e(),n("video",{directives:[{name:"show",rawName:"v-show",value:!e.showWorld&&e.showVideo,expression:"!showWorld && showVideo"}],key:"video",ref:"video",staticClass:"video",attrs:{autoplay:""}},[n("source",{attrs:{src:e.video.video.filename,type:"video/mp4"}})]),e.selectedDeployment?n("deployment",{key:e.selectedDeployment.uuid,attrs:{message:e.selectedDeployment},on:{resetDeployment:e.resetDeployment}}):e._e()],1),n("transition",{attrs:{name:"fade",appear:""}},[e.hasStartedSequence?e._e():n("div",{staticClass:"absolute flex items-center right-0 bottom-0 mr-4 mb-4"},[n("avatar",{staticClass:"relative",attrs:{url:e.$page.global.content.chat_bot.filename}}),n("c-button",{attrs:{option:e.$page.global.content.start_text},nativeOn:{click:function(t){return e.startSequence(t)}}})],1)]),n("transition",{attrs:{name:"fade-up"}},[e.hasStartedSequence?n("div",{staticClass:"chat-container absolute right-0 bottom-0 mr-4 mb-4 w-1/2 max-w-lg h-64 overflow-hidden bg-white bg-opacity-75 rounded-lg shadow-lg"},[n("div",{staticClass:"flex items-center px-4 h-8 bg-blue-500 text-white font-medium"},[n("span",{staticClass:"block leading-none"},[e._v(e._s(e.$page.global.content.chatbox_top))])]),n("div",{staticClass:"shadow-container relative overflow-hidden"},[n("div",{ref:"messageBox",staticClass:"list h-full pt-10 pb-16 overflow-y-scroll",class:["Mac"===e.OS?"px-4":"pl-4",e.isFirefox?"firefox":""]},e._l(e.messages,(function(t,o){return n(e.getComponent(t),{key:t.uuid+"-"+o,tag:"component",staticClass:"relative flex flex-col items-end pl-16 pr-5",attrs:{message:t,avatar:e.avatar,"is-answer":"string"==typeof t,"show-buttons":!e.showWorld},on:{choice:e.handleChoice,deployment:e.handleDeployment,updateScroll:e.scrollToBottom,observe:e.observeElement,globe:e.handleGlobe,reset:e.handleReset}})})),1)])]):e._e()])],1)])}),[],!1,null,"04a5c9bb",null);"function"==typeof U&&U(J);t.default=J.exports},tlMo:function(e,t,n){},yZ11:function(e,t,n){"use strict";var o=n("aayG");n.n(o).a}}]);